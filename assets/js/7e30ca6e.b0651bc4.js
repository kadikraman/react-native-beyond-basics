(self.webpackChunkreact_native_beyond_basics=self.webpackChunkreact_native_beyond_basics||[]).push([[536],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return p},kt:function(){return u}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=a.createContext({}),l=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=l(e.components);return a.createElement(c.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=l(t),u=r,m=h["".concat(c,".").concat(u)]||h[u]||d[u]||i;return t?a.createElement(m,o(o({ref:n},p),{},{components:t})):a.createElement(m,o({ref:n},p))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=h;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=t[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},3919:function(e,n,t){"use strict";function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!a(e)}t.d(n,{b:function(){return a},Z:function(){return r}})},4996:function(e,n,t){"use strict";t.d(n,{C:function(){return i},Z:function(){return o}});var a=t(2263),r=t(3919);function i(){var e=(0,a.default)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,i=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,a){var i=void 0===a?{}:a,o=i.forcePrependBaseUrl,s=void 0!==o&&o,c=i.absolute,l=void 0!==c&&c;if(!t)return t;if(t.startsWith("#"))return t;if((0,r.b)(t))return t;if(s)return n+t;var p=t.startsWith(n)?t:n+t.replace(/^\//,"");return l?e+p:p}(i,t,e,n)}}}function o(e,n){return void 0===n&&(n={}),(0,i().withBaseUrl)(e,n)}},5775:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return s},metadata:function(){return c},toc:function(){return l},default:function(){return d}});var a=t(2122),r=t(9756),i=(t(7294),t(3905)),o=t(4996),s={sidebar_position:17},c={unversionedId:"splash-screen",id:"splash-screen",isDocsHomePage:!1,title:"Splash Screen",description:"A splash screen is the screen we show to users while the app is getting loaded. This can either be a full page image, or an image with a background.",source:"@site/docs/splash-screen.mdx",sourceDirName:".",slug:"/splash-screen",permalink:"/react-native-beyond-basics/docs/splash-screen",editUrl:"https://github.com/kadikraman/react-native-beyond-basics/edit/main/website/docs/splash-screen.mdx",version:"current",sidebarPosition:17,frontMatter:{sidebar_position:17},sidebar:"tutorialSidebar",previous:{title:"Gestures and Animation",permalink:"/react-native-beyond-basics/docs/gestures"}},l=[{value:"iOS Splash Screen",id:"ios-splash-screen",children:[]},{value:"Checkpoint \ud83d\udd17",id:"checkpoint-",children:[]},{value:"React Native Splash Screen",id:"react-native-splash-screen",children:[]},{value:"iOS",id:"ios",children:[]},{value:"Checkpoint \ud83d\udd17",id:"checkpoint--1",children:[]},{value:"Android Splash Screen",id:"android-splash-screen",children:[]},{value:"Checkpoint \ud83d\udd17",id:"checkpoint--2",children:[]}],p={toc:l};function d(e){var n=e.components,t=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"A splash screen is the screen we show to users while the app is getting loaded. This can either be a full page image, or an image with a background."),(0,i.kt)("h2",{id:"ios-splash-screen"},"iOS Splash Screen"),(0,i.kt)("p",null,"Open Xcode and find ",(0,i.kt)("inlineCode",{parentName:"p"},"LaunchScreen.storyboard")," from the sidebar. This is the current launch screen. Let's update this to include our own image and background."),(0,i.kt)("img",{src:(0,o.Z)("/img/splash-screen/xcode-start.png"),alt:"XCode Storyboard"}),(0,i.kt)("p",null,"Open ",(0,i.kt)("inlineCode",{parentName:"p"},"Images.xcassets")," and add a new Image Set called ",(0,i.kt)("inlineCode",{parentName:"p"},"SplashImage"),"."),(0,i.kt)("p",null,"Notice we need to add 3 versions of the image. Let's use the Ying Yang image from before:"),(0,i.kt)("img",{src:(0,o.Z)("/img/images/ying-yang@3x.png"),alt:"Ying Yang image"}),(0,i.kt)("img",{src:(0,o.Z)("/img/images/ying-yang@2x.png"),alt:"Ying Yang image"}),(0,i.kt)("img",{src:(0,o.Z)("/img/images/ying-yang.png"),alt:"Ying Yang image"}),(0,i.kt)("p",null,"To add this to the Splash Screen, open the ",(0,i.kt)("inlineCode",{parentName:"p"},"LaunchScreen.storyboard")," again and click on + on the top right corner of Xcode."),(0,i.kt)("p",null,"Search for ",(0,i.kt)("inlineCode",{parentName:"p"},"ImageView")," and drag it to the center of your splash screen page."),(0,i.kt)("p",null,"Click on the ",(0,i.kt)("inlineCode",{parentName:"p"},"ImageView")," and choose the Image asset you just creates from the right menu."),(0,i.kt)("p",null,"Click on the ",(0,i.kt)("inlineCode",{parentName:"p"},"View")," on the left, and set the background to the blue of our main background image using the colour picker tool."),(0,i.kt)("p",null,'To ensure that the image is always centered in our container, choose the SplashImage from the tree view and click on the little bar chart icon on the bottom right of the toolbar, check "Center Horizontally in container" and "Center Vertically in container", and add both constraints.'),(0,i.kt)("p",null,"Rebuild the app from Xcode."),(0,i.kt)("img",{src:(0,o.Z)("/img/splash-screen/xcode-end.png"),alt:"XCode Storyboard"}),(0,i.kt)("h2",{id:"checkpoint-"},"Checkpoint \ud83d\udd17"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/kadikraman/mood-tracker/commit/86a64cabe2c604714034a9314dd3392eaafc222f"},(0,i.kt)("strong",{parentName:"a"},"Add iOS splash screen")," 86a64cabe2c604714034a9314dd3392eaafc222f")),(0,i.kt)("h2",{id:"react-native-splash-screen"},"React Native Splash Screen"),(0,i.kt)("p",null,"Despite our beautiful splash screen, you probably noticed that there is still a flash of white then the app first loads."),(0,i.kt)("p",null,"This is because the splash screen is hidden by the native code before React Native had finished loading the JavaScript code."),(0,i.kt)("p",null,"To prevent this flash, we can use ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/crazycodeboy/react-native-splash-screen"},"react-native-splash-screen")," to programmatically hide the splash screen when the app is actually ready."),(0,i.kt)("p",null,"Install the library with"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add react-native-splash-screen\n")),(0,i.kt)("p",null,"or if using npm:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"npm install react-native-splash-screen\n")),(0,i.kt)("p",null,"Use the linking command to link the native dependencies:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"npx react-native link react-native-splash-screen\n")),(0,i.kt)("p",null,"Install native dependencies:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"cd ios\npod install\n")),(0,i.kt)("h2",{id:"ios"},"iOS"),(0,i.kt)("p",null,"Open ",(0,i.kt)("inlineCode",{parentName:"p"},"AppDelegate.m")," in Xcode and add the the code to display the splash screen:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-objective-c"},'#import "AppDelegate.h"\n\n#import <React/RCTBundleURLProvider.h>\n#import <React/RCTRootView.h>\n#import "RNSplashScreen.h"  // here\n\n@implementation AppDelegate\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n    // ...other code\n\n    [RNSplashScreen show];  // here\n\n    return YES;\n}\n\n@end\n')),(0,i.kt)("p",null,"In ",(0,i.kt)("inlineCode",{parentName:"p"},"App.tsx"),", hide the Splash Screen once the component has mounted:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'import SplashScreen from "react-native-splash-screen";\n\nexport const App: React.FC = () => {\n  useEffect(() => {\n    SplashScreen.hide();\n  }, []);\n ...\n};\n\n')),(0,i.kt)("p",null,"Rebuild the app from XCode to see the new splash screen in action."),(0,i.kt)("h2",{id:"checkpoint--1"},"Checkpoint \ud83d\udd17"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/kadikraman/mood-tracker/commit/59454ef0cca111ca6b475e0cb49326e5ae6ce242"},(0,i.kt)("strong",{parentName:"a"},"Configure react-native-splash-screen for iOS")," 59454ef0cca111ca6b475e0cb49326e5ae6ce242")),(0,i.kt)("img",{src:(0,o.Z)("/img/splash-screen/ios.png"),alt:"iOS splash screen",width:"500"}),(0,i.kt)("h2",{id:"android-splash-screen"},"Android Splash Screen"),(0,i.kt)("p",null,"First we need to create the splash image layout. Create an ",(0,i.kt)("inlineCode",{parentName:"p"},"android/app/src/main/res/layout")," folder, and inside it a file called ",(0,i.kt)("inlineCode",{parentName:"p"},"launch_screen.xml")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="utf-8"?>\n<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"\n    android:layout_width="match_parent"\n    android:layout_height="match_parent"\n    android:orientation="vertical">\n    <ImageView\n        android:background="@color/splash_blue"\n        android:layout_width="match_parent"\n        android:layout_height="match_parent"\n        android:scaleType="center"\n        android:src="@drawable/launch_screen" />\n</RelativeLayout>\n')),(0,i.kt)("p",null,"To add the image, create a ",(0,i.kt)("inlineCode",{parentName:"p"},"android/app/src/main/res/drawable-xxhdpi")," and save the Ying Yang image there with the name ",(0,i.kt)("inlineCode",{parentName:"p"},"launch_screen.png"),"."),(0,i.kt)("img",{src:(0,o.Z)("/img/images/ying-yang@3x.png"),alt:"Ying Yang image"}),(0,i.kt)("p",null,"Create a ",(0,i.kt)("inlineCode",{parentName:"p"},"app/src/main/res/values/colors.xml")," file and add ",(0,i.kt)("inlineCode",{parentName:"p"},"primary_dark")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"splash_blue")," colors:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'<?xml version="1.0" encoding="utf-8"?>\n<resources>\n    <color name="primary_dark">#000000</color>\n    <color name="splash_blue">#57C3EE</color>\n</resources>\n')),(0,i.kt)("p",null,"You can also preview the look and feel of the launch screen in Android Studio by opening the ",(0,i.kt)("inlineCode",{parentName:"p"},"launch_screen.xml")," file"),(0,i.kt)("img",{src:(0,o.Z)("/img/splash-screen/android-studio-layout.png"),alt:"Android studio screen"}),(0,i.kt)("p",null,"To configure ",(0,i.kt)("inlineCode",{parentName:"p"},"react-native-splash-screen")," for Android, install and link the library (if you haven't already) with"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"yarn add react-native-splash-screen\n")),(0,i.kt)("p",null,"or if using npm:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"npm install react-native-splash-screen\n")),(0,i.kt)("p",null,"and the linking command to link the native dependencies:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"npx react-native link react-native-splash-screen\n")),(0,i.kt)("p",null,"Update the ",(0,i.kt)("inlineCode",{parentName:"p"},"MainActivity.java")," to use ",(0,i.kt)("inlineCode",{parentName:"p"},"react-native-splash-screen")," via the following changes:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"+import android.os.Bundle;\n+import org.devio.rn.splashscreen.SplashScreen;\n\npublic class MainActivity extends ReactActivity {\n+   @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        SplashScreen.show(this);  // here\n+        super.onCreate(savedInstanceState);\n+    }\n}\n")),(0,i.kt)("p",null,"Finally, rebuild the app from Android Studio."),(0,i.kt)("img",{src:(0,o.Z)("/img/splash-screen/android.png"),alt:"Android splash screen",width:"500"}),(0,i.kt)("h2",{id:"checkpoint--2"},"Checkpoint \ud83d\udd17"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/kadikraman/mood-tracker/commit/fbaa373ca0ff99e7966df629d2fb040e36a1ec16"},(0,i.kt)("strong",{parentName:"a"},"Add Android splash screen")," fbaa373ca0ff99e7966df629d2fb040e36a1ec16")))}d.isMDXComponent=!0}}]);